<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Animation Test</title>
    <link href="style.css" type="text/css" rel="stylesheet"/>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100%;
            height: 100vh;
            overflow: hidden;
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    
    <script>

/* CANVAS ANIMATION START */

let mouseX = 0;
let mouseY = 0;

document.addEventListener('mousemove', (event) => {
    mouseX = event.clientX;
    mouseY = event.clientY;
});

(function() {
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    // Animation parameters
    const LINE_COUNT_MIN = 10;
    const LINE_COUNT_MAX = 20;
    const AMPLITUDE_MIN = 50;  // pixels
    const AMPLITUDE_MAX = 100; // pixels
    const FREQUENCY_MIN = 0.05; // Hz
    const FREQUENCY_MAX = 0.1;  // Hz
    const LINE_WIDTH = 1;
    const LINE_OPACITY = 0.05; // 0-1 (0 = fully transparent, 1 = fully opaque)

    // Get colors from CSS variables
    const computedStyle = getComputedStyle(document.documentElement);
    const colorDark = computedStyle.getPropertyValue('--color-dark').trim();
    const colorLight = computedStyle.getPropertyValue('--color-light').trim();

    // Generate line parameters (amplitude, frequency, base y-position)
    let lines = [];
    let startTime = Date.now();

    function generateLines(count) {
        lines = [];
        for (let i = 0; i < count; i++) {
            lines.push({
                baseX: Math.random() * canvas.height,
                amplitude: Math.random() * (AMPLITUDE_MAX - AMPLITUDE_MIN) + AMPLITUDE_MIN,
                frequency: Math.random() * (FREQUENCY_MAX - FREQUENCY_MIN) + FREQUENCY_MIN,
                dir: 1
            });
        }
    }

    // Set canvas resolution
    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        startTime = Date.now();
        const lineCount = Math.floor(Math.random() * (LINE_COUNT_MAX - LINE_COUNT_MIN + 1)) + LINE_COUNT_MIN;
        generateLines(lineCount);
    }

    // Animation loop
    function draw(timestamp) {
        // Clear canvas with dark background
        ctx.fillStyle = colorDark;
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Calculate elapsed time in seconds
        const elapsed = (timestamp - startTime) / 1000;

        // Draw animated horizontal lines
        ctx.strokeStyle = colorLight;
        ctx.lineWidth = LINE_WIDTH;
        ctx.globalAlpha = LINE_OPACITY;

        for (let line of lines) {
            // Sinusoidal motion: baseX + amplitude * sin(2Ï€ * frequency * time)
            const x = line.baseX + line.dir * line.amplitude * Math.sin(2 * Math.PI * line.frequency * elapsed);
            if(Math.abs(x - mouseX) < 20) {
                line.dir *= -1;
            }
            ctx.beginPath();
            ctx.moveTo(x, 0);
            ctx.lineTo(x, canvas.height);
            ctx.stroke();
        }
    }

    // Initial setup
    resizeCanvas();

    // Handle window resize
    window.addEventListener('resize', resizeCanvas);

    // Start animation loop
    function animate(timestamp) {
        draw(timestamp);
        requestAnimationFrame(animate);
    }
    animate();
})();
/* CANVAS ANIMATION END */

    
    
</script>
</body>
</html>
